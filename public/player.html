<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç©å®¶ç™»å…¥</title>
</head>
<body>
<h2>ğŸ® Kahootå³æ™‚ç­”é¡ŒéŠæˆ²</h2>
<input id="nameInput" placeholder="è¼¸å…¥æš±ç¨±">
<button onclick="join()">ç™»å…¥</button>
<hr>
<p id="question">ç­‰å¾…é–‹å§‹...</p>
<div id="answers"></div>
<button id="doubleBtn" onclick="useDouble()">ğŸ”¥ ä½¿ç”¨é›™å€å¡</button>
<p id="status"></p>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
let name;

function join(){
  name = document.getElementById("nameInput").value.trim();
  if(!name) return alert("è«‹è¼¸å…¥æš±ç¨±");
  socket.emit("joinGame", name);
  document.getElementById("status").textContent = `å·²åŠ å…¥ï¼š${name}`;
}

function useDouble(){
  socket.emit("useDouble", name);
  document.getElementById("doubleBtn").disabled = true;
  document.getElementById("status").textContent = "ğŸ”¥ é€™ä¸€é¡Œåˆ†æ•¸é›™å€ï¼";
}

function sendAnswer(ans){
  const correct = (ans === 'A'); //è‡¨æ™‚æ¸¬è©¦
  socket.emit("answer", { name, correct });
}

socket.on("doubleActivated", ()=>{
  document.getElementById("status").textContent = "ğŸ”¥ é›™å€åˆ†å·²å•Ÿå‹•ï¼";
});
</script>
</body>
</html>
